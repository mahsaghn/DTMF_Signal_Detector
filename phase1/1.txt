برای پیدا کردن کلید فشرده شده ابتدا فرکانس های موجود در صدا را پیدا کردم و سپس با توجه به دامنه ی فرکانس ارایه ی key_freqs را مقدار دهی کردم که مقادیر آن فرکانس و دامنه ی آن هستند. 
برای این کار ابتدا تابع find_freq را صدا میزنم تا فرکانس های مورد نظر را پیدا و دامنه شان را حساب کند با توجه به این که ممکن است دقیقا همان فرکانس در دامنه نباشید یک عدد قبل و بعد را از نمونه اندازه گیری کرده و ماکسیمم را حساب کردم. یک کران پایین هم برای دامنه ی فرکانس محاسبه کردم که درصورتی که دامنه ی فرکانس کمتر از آن کران باشد مقدار صفر را در آرایه اضافه میکند. 
سپس در تابع find_key یک دیکشنری تعریف کردم که فرکانس سطح کلید و مقدار آن دیکشنریی است که مقادیر ستون را دارد و مقادیر هر ستون کلید فشرده شده است
از روی ارایه ی به دست آمده توسط تابع قبلی پیدا میکنم که برای هر کلید که امکان فشرده شدن ان وجود دارد هر فرکانس چه دامنه ای دارد کلیدی را به عنوان کلید فشرده شده انتخاب میکنم که بیشترین حاصل ضرب دو فرکانس را دارد.
